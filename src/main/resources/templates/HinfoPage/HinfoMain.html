<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout}">

<head>
<meta charset="UTF-8">
<title>건강정보게시판</title>
</head>
<body>
	<div layout:fragment="content">

<script th:inline="javascript">
	function send_pn(){
		var yaho = $("#pn").val();
		console.log(yaho);
		$("#pn_form").submit();
	}
	
	function send_pbn(){
		var mu = $("#pbn").val();
		console.log(mu);
		$("#pbn_form").submit();
	}
</script>
		<style>
<style>

/*================================
Filter Box Style
====================================*/
.job-box-filter label {
	width: 100%;
}

.job-box-filter select.input-sm {
	display: inline-block;
	max-width: 120px;
	margin: 0 5px;
	border: 1px solid #e8eef1;
	border-radius: 2px;
	height: 34px;
	font-size: 15px;
}

.job-box-filter label input.form-control {
	max-width: 200px;
	display: inline-block;
	border: 1px solid #e8eef1;
	border-radius: 2px;
	height: 34px;
	margin-left: 5px;
	font-size: 15px;
}

.text-right {
	text-align: right;
}

.job-box-filter {
	padding: 12px 15px;
	background: #ffffff;
	border-bottom: 1px solid #e8eef1;
	margin-bottom: 20px;
}

.job-box {
	background: #ffffff;
	display: inline-block;
	width: 100%;
	padding: 0 0px 40px 0px;
	border: 1px solid #e8eef1;
}

.job-box-filter a.filtsec {
	margin-top: 8px;
	display: inline-block;
	margin-right: 15px;
	padding: 4px 10px;
	font-family: 'Quicksand', sans-serif;
	transition: all ease 0.4s;
	background: #edf0f3;
	border-radius: 50px;
	font-size: 13px;
	color: #81a0b1;
	border: 1px solid #e2e8ef;
}

.job-box-filter a.filtsec.active {
	color: #ffffff;
	background: #16262c;
	border-color: #16262c;
}

.job-box-filter a.filtsec i {
	color: #03A9F4;
	margin-right: 5px;
}

.job-box-filter a.filtsec:hover, .job-box-filter a.filtsec:focus {
	color: #ffffff;
	background: #07b107;
	border-color: #07b107;
}

.job-box-filter a.filtsec:hover i, .job-box-filter a.filtsec:focus i {
	color: #ffffff;
}

.job-box-filter h4 i {
	margin-right: 10px;
}

/*=====================================
Inbox Message Style
=======================================*/
.inbox-message ul {
	padding: 0;
	margin: 0;
}

.inbox-message ul li {
	list-style: none;
	position: relative;
	padding: 15px 20px;
	border-bottom: 1px solid #e8eef1;
}

.inbox-message ul li:hover, .inbox-message ul li:focus {
	background: #eff6f9;
}

.inbox-message .message-avatar {
	position: absolute;
	left: 30px;
	top: 50%;
	transform: translateY(-50%);
}

.message-avatar img {
	display: inline-block;
	width: 54px;
	height: 54px;
	border-radius: 50%;
}

.inbox-message .message-body {
	margin-left: 85px;
	font-size: 15px;
	color: #62748F;
}

.message-body-heading h5 {
	font-weight: 600;
	display: inline-block;
	color: #62748F;
	margin: 0 0 7px 0;
	padding: 0;
}

.message-body h5 span {
	border-radius: 50px;
	line-height: 14px;
	font-size: 12px;
	color: #fff;
	font-style: normal;
	padding: 4px 10px;
	margin-left: 5px;
	margin-top: -5px;
}

.message-body h5 span.unread {
	background: #07b107;
}

.message-body h5 span.important {
	background: #dd2027;
}

.message-body h5 span.pending {
	background: #2196f3;
}

.message-body-heading span {
	float: right;
	color: #62748F;
	font-size: 14px;
}

.messages-inbox .message-body p {
	margin: 0;
	padding: 0;
	line-height: 27px;
	font-size: 15px;
}

a:hover {
	text-decoration: none;
}

.p-content {
 	overflow: hidden;
	text-overflow: p-content;
  	display: -webkit-box;
	-webkit-line-clamp: 2;
 	-webkit-box-orient: vertical;
}
</style>
		<section>

			<h3>건강정보 게시판</h3><br><hr><br>

							<div class="job-box">
								<div class="job-box-filter">
									<div class="row">
										<div class="col-md-6 col-sm-6">
										
						<!-- 					<label>Show 
											<select name="datatable_length" class="form-control input-sm">
													<option name="pn" value="5">5</option>
													<option name="pn" value="10">10</option>
													<option name="pn" value="15">15</option>
													<option name="pn" value="20">20</option>
											</select> entries
											</label> -->
											
											<form id="pn_form" method="post" action="/Hinfo/HinfoMain">
												<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
												
												<select id="pn" name="pn" onchange="send_pn()" class="form-control input-sm">
													<option hidden="hidden" value="">[[${lists.size}]]</option>
													<option value="2">2</option>
													<option value="4">4</option>
													<option value="6">6</option>
													<option value="10">10</option>
												</select>
												<label for="pn"> : 볼 게시물 갯수</label>
											</form>
											
										</div>
										<div class="col-md-6 col-sm-6">
											<div class="filter-search-box text-right">
												
												<form class="d-flex" role="search" th:action="@{/Hinfo/HinfoMain}" method="get">
													<input name="searchQuery" class="form-control me-2" type="search" placeholder="검색어 입력" aria-label="Search">
													<button class="btn btn-outline-success" type="submit" style="width: 100px;">검색</button>
												</form>
												
											</div>
										</div>
									</div>
								</div>
								<div class="inbox-message">
									<ul th:each="list , i : ${lists.getContent()}">
											
										<li>
										<a href="#">
												<div class="message-avatar">
													<img
														th:src="${list.member.imgUrl}"
														th:alt="${list.member.imgOri}">
												</div>
												<div class="message-body">
													<div class="message-body-heading">
													
														<h5 th:href="'/Hinfo/' +${list.id}"><a style="color:#0D6EFD" th:href="'/Hinfo/' +${list.id}">
															[[${list.title}]] </a>
															
															<span th:if="${i.first}" class="unread" style="margin-top:1px">New</span>
															<span th:if="${list.view} >= 5" class="important" style="margin-top:1px">Hot</span>
														
														</h5>

														<span th:text="작성일_ + ${#temporals.format(list.regTime, 'yyyy-MM-dd HH:mm:ss')}"></span>
													</div>
													<p class="p-content">[[${list.content}]]</p><br>
													<p>글번호 : [[${list.id}]] &nbsp; 작성자 : [[${list.member.loginid}]] &nbsp; 조회수 : [[${list.view}]]</p>
												</div>
										</a>
										</li>

									</ul>
								</div>
							</div>
				

			<br>
			<!-- 페이징 -->
			<!-- start = (현재 페이지 번호/보여줄 페이지수) + 1 , 페이지 시작 번호-->
			<!-- end = start + (보여줄 페이지수 - 1 ), 페이지 끝 번호-->
			<!-- item.number: [[${lists.number}]], maxPage: [[${maxPage}]], -->
			<!-- 5 -->
			<!-- totalPages: [[${lists.totalPages}]], -->
			
			<br>
			
			<form id="pbn_form" method="post" action="/Hinfo/HinfoMain">
				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
				
				<nav
					th:with="start=${(lists.number/maxPage)*maxPage + 1}, end=(${(lists.totalPages == 0) ? 1 : (start + (maxPage - 1) < lists.totalPages ? start + (maxPage - 1) : lists.totalPages)})"
					aria-label="Page navigation example">
					<ul class="pagination d-flex justify-content-center" id="pbn" name="pbn" onchange="send_pbn()">
						<li class="page-item" th:classappend="${lists.first}?'disabled'">
							<a th:href="@{'/Hinfo/HinfoMain' + '?searchQuery=' + ${hinfoSerchDto.searchQuery} + '&page=' + ${lists.number-1}}" class="page-link">
							<span>이전</span>
						</a>
						</li>
						<li class="page-item" th:each="page: ${#numbers.sequence(start, end)}" th:classappend="${lists.number eq page-1}?'active':''">
							<a class="page-link" th:inline="text" th:href="@{'/Hinfo/HinfoMain' +'?searchQuery=' + ${hinfoSerchDto.searchQuery} + '&page=' + ${page-1} + '&pn=' + ${(hinfoBoardDto.pn == null ? 6 : hinfoBoardDto.pn)}}">[[${page}]]</a>
						</li>
						<li class="page-item" th:classappend="${lists.last}?'disabled'">
							<a class="page-link" th:href="@{'/Hinfo/HinfoMain' +'?searchQuery=' + ${hinfoSerchDto.searchQuery} + '&page=' + ${lists.number+1}}">다음</a>
						</li>
					</ul>
				</nav>
			
			</form>
			<div></div>
			<button style="float: right;" class="btn btn-primary" onClick="location.href='/Hinfo/write'" sec:authorize="hasAnyAuthority('ROLE_DOCTOR','ROLE_ADMIN')">글쓰기</button>

		</section>

	</div>

</body>
</html>