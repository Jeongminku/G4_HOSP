<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
	<meta charset="UTF-8">
	<title>순양병원</title>
	<script th:inline="javascript">  
	</script>
</head>
<body>
	<section layout:fragment="content" class="login spad">
		<div class="container">
			<div class="sign-up-content">
				<form action="/members/new" method="post" th:object="${memberFormDto}" enctype="multipart/form-data">
					<div class="signup">
						<div class="form-radio mb-4">               	             	
							<input class="d-none" type="radio" name="role" value="CLIENT" id="client" checked="checked" onclick="medListEvent()"/>
							<label class="h4 btn btn-outline-secondary" for="client">환자</label> 
							<input class="d-none" type="radio" name="role" value="DOCTOR" id="doctor" onclick="medListEvent()" />
							<label class="h4 btn btn-outline-secondary" for="doctor">의사</label>	
							<input class="d-none" type="radio" name="role" value="ADMIN" id="admin" onclick="medListEvent()" />
							<label class="h4 btn btn-outline-secondary" for="admin">관리자</label>
						</div>
						<div class="form-textbox row mb-3">
							<span class="medList d-none h5"> 진료과 &nbsp; &nbsp; &nbsp; </span>
							<div class="input-group medList d-none p-0">
								<select class="form-select" name="job" th:field="*{medId}">
									<option hidden="hidden" selected="selected" value="">==진료과를 선택해주세요==</option>
									<option th:each="meds : ${memberFormDto.med}" th:value="${meds.medId}" th:text="${meds.medName}"></option>
								</select>
							</div>
						</div>
						<div class="form-textbox row mb-3">
							<label class="h5" th:for="nickname">아이디</label>
							<input type="text" th:field="*{loginid}" class="form-control" placeholder="아이디 입력" style="padding-left: 100px;" onkeyup="chk()"/>
							<p th:if="${#fields.hasErrors('loginid')}" th:errors="*{loginid}" class="py-2 c-alert-color">잘못된 LoginId 입력</p>
							<div id=chk_result class="chk_result c-alert-color py-2"></div>
						</div>
						<div class="form-textbox row mb-3">
							<label class="h5" for="password">비밀번호</label>
							<input type="password" th:field="*{pwd}" class="form-control" placeholder="패스워드 입력" style="padding-left: 100px;" />
							<p th:if="${#fields.hasErrors('pwd')}" th:errors="*{pwd}" class="py-2 c-alert-color">잘못된 password 입력</p>
						</div>
						<div class="form-textbox row mb-3">
							<label class="h5" th:for="name">이름</label>
							<input type="text" th:field="*{name}" class="form-control" placeholder="홍길동" style="padding-left: 100px;" />
							<p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="py-2 c-alert-color">잘못된 이름 입력</p>
						</div>
						<div class="form-textbox row mb-3">
							<label class="h5" th:for="tel">전화번호</label>
							<input type="text" th:field="*{tel}" class="form-control" placeholder="01012349876" style="padding-left: 100px;" />
							<p th:if="${#fields.hasErrors('tel')}" th:errors="*{tel}" class="py-2 c-alert-color">잘못된 전화번호 입력</p>
						</div>
						<div class="form-textbox row mb-3">
							<label class="h5" th:for="birth">생년월일</label>
							<input type="number" th:field="*{birth}" class="form-control" placeholder="19990101" style="padding-left: 100px;" onkeyup="test()" />
							<p th:if="${#fields.hasErrors('birth')}" th:errors="*{birth}" class="py-2 c-alert-color">잘못된 생년월일 입력</p>
							<div class="check_font c-alert-color py-2" id=birth_check></div>
						</div>
						<div class="form-textbox row form-bottom d-none mb-3" id = "profile">
							<div class="col-3 d-flex align-items-center">
								<label class="h5 m-0" for="profile">프로필 사진</label>
							</div>
							<div class="col-9 d-flex flex-column align-items-start">
								<div id="image_container">
									<img id="preview" class="w-50"/>
								</div>
								<div class="input-group mb-3">
									<input type="file" class="form-control profile" name ="profileImg" id="profileImg"  onchange="readURL(this);">
									<label class="input-group-text" for="profileImg">Upload</label>
								</div>
							</div>
						</div> 
						<div class="form-textbox row signWrap w-100 flex-nowrap" style="text-align:center;">
							<button type="submit" class="submitSign w-50 btn btn-primary">회원가입</button>
							<button type="button" onclick="location.href='/'" class="submitSign w-50 ms-2 btn btn-primary">가입취소</button>
						</div>
						<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">     	
					</div>    
				</form>
			</div>
		</div>
		<script src="/rs/js/Member.js"></script>
	</section>
</body>
</html>