<!-- 로그인 화면 -->

<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layouts/layout}"
>
	<head>
		<meta charset="UTF-8" />
		<title> 순양병원 </title> 
		<script type="text/javascript" th:src="@{/js/cookie.js}"></script>
		<!-- THYMELEAF JS  -->
		<th:block>
			<script th:inline="javascript">
			//쿠키를 이용한 아이디 기억
			$(document).ready(function() {
				var userInputId = getCookie("userInputId");
				var setCookieYN = getCookie("setCookieYN");

				if (setCookieYN == 'Y') {
					$("#id_save").prop("checked", true);
					$("#loginid").val(userInputId);
				} else {
					$("#id_save").prop("checked", false);
				}

				//로그인 버튼 클릭
				$('#loginbtn').click(function() {
					if ($("#id_save").is(":checked")) {
						var userInputId = $("#loginid").val();
						setCookie("userInputId", userInputId, 30);
						setCookie("setCookieYN", "Y", 30);
					} else {
						deleteCookie("userInputId");
						deleteCookie("setCookieYN");
					}
				});
			});
	
				
			</script>
		</th:block>
		<!-- THYMELEAF CSS -->
    <th:block layout:fragment="css">
      <style>
      * {
    
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}


html,
body {
    height: 100vh;

}

.container {
    position: relative;
    min-height: 100vh;

}
h3 {
    padding: 40px 0;
    color: #0a0606;
    font-weight: 500;
    font-size: 36px;
    line-height: 1;
    text-align: center;
}
.in_w {
    max-width: 1200px;
    margin: 0 auto;
}
.bg_blue {
    background: #eff3f7;
}
.cont_login {
    padding: 20px 30px 70px 30px;
}
.cont_login .login_top {
    position: relative;
    padding: 90px;
    border: 1px solid #e0e5ee;
    background-color: #fff;
}
.p_txt {
    color: #000;
    font-weight: 300;
    font-size: 18px;
    line-height: 1.7;
    letter-spacing: -0.25px;
    text-align: inherit;
    word-break: keep-all;
    text-align: center;
}
.cont_login .login_top .login_inner {
    display: table;
    margin: 0 auto;
}
img, fieldset, iframe {
    border: none;
}

.form-control {
    border: 2px solid #999;
    color: #666666;
    font-weight: 300;
    font-size: 17px;
    background-color: #fff;
    box-sizing: border-box;
    outline: none;
}
.cont_login .login_top .login_inner .btn_login {
    display: table;
    width: 400px;
    padding: 18px 0;
    margin: 0 auto;
    border: 0;
    color: #fff;
    font-weight: 300;
    font-size: 20px;
    text-align: center;
    background-color: #205B8A;
    box-sizing: border-box;
}
a, address, blockquote, br, fieldset, legend, label, form, input, select, textarea, button, table, th, td caption, cite, code, dl, dt, dd, h1, h2, h4, h5, h6, p, div, iframe, ol, hr, img {
    margin: 0;
    padding: 0;
}
ul, ol, li {
    list-style: none;
}

.w-25 {
margin:auto;
width: 40%!important;
}

.cont_login .login_bott ul li a {
    display: block;
    text-align: center;
}
.cont_login .login_bott ul li a {
    display: block;
    text-align: center;
}
.cont_login .login_bott ul li {
    padding: 40px 10px 55px;
}
.cont_login .login_bott ul li .login_bott_txt {
	text-align: center;
    margin-top: 15px;
    color: #969696;
    font-weight: 500;
    font-size: 15px;
    line-height: 20px;
}
.cont_login .login_bott ul li {
    float: left;
    width: calc(100% / 3);
    padding: 17px;
    border-right: 1px solid #e0e5ee;
    border-left: 1px solid #e0e5ee;
    box-sizing: border-box;
}
.cont_login .login_bott ul li .login_bott_tit {
    color: #205B8A;
    font-weight: 700;
    font-size: 20px;
}

       </style>
    </th:block>
	</head>
	<body>
		<section layout:fragment="content" class="d-flex align-items-center justify-content-center">
			<div class="container">
			
				<div class="in_w">
					<div class="bg_blue">
					<h3><i class="fa-solid fa-user fa-1x"></i>&nbsp;로그인</h3>
						<div class="cont_login">
							<div class="login_top">
								<p class="p_txt center">
									홈페이지의 다양한 정보와 맞춤서비스를 이용하시려면 로그인이 필요합니다.
								</p>
								<div class="login_inner">
									<fieldset class="p-5">
										<form class="row g-3 d-flex flex-column align-items-end w-70" action="/members/login" method="post">
											<div class="px-5">
												<label class="h5" th:for="loginid">아이디</label> 
												<input type="text" name="loginid" id="loginid" class="form-control">
											</div>
											<div class="px-5">
												<label class="h5" th:for="password">비밀번호</label> 
												<input type="password" name="password" id="password" class="form-control">
											</div>
											<div class="px-5">
												<!-- 로그인 오류시 에러메시지 출력하기 !  -->
												<p th:if="${loginErrorMsg}" class="error" th:text="${loginErrorMsg}"></p> 
												<label><input class="me-2" type="checkbox" name="id_save" id="id_save" />아이디 기억</label>
											</div>
											<button type="submit" class="btn btn-primary mt-5 w-25" id="loginbtn" onclick="location.href='/'">로그인</button>
											<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
										</form>
									</fieldset>
									<div class="login_bott">
										<ul class="fix">
											<li>
												<a th:href="'/members/new'" class="login_bott_tit"><i class="fa-solid fa-right-to-bracket"></i>&nbsp;회원가입</a>
												<p class="login_bott_txt">순양병원의 회원이 되시면<br> 홈페이지에서 제공하는 온라인 서비스를 이용하실 수 있습니다.</p>
											</li>
											<li class="find">
												<a th:href="'/members/FindId'" class="login_bott_tit"><i class="fa-regular fa-envelope"></i>&nbsp;아이디 찾기</a>
												<p class="login_bott_txt"> 이름과 전화번호를 통해 아이디를 찾을 수 있습니다.</p>
											</li>
											<li class="find">
												<a th:href="'/members/FindPwd'" class="login_bott_tit"><i class="fa-solid fa-key"></i>&nbsp;비밀번호 찾기</a>
												<p class="login_bott_txt">아이디,이름,전화번호를 통해 임시비밀번호를 발급받을 수 있습니다.<br></p>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</body>
</html>